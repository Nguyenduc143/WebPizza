<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Shop - Trang Kh√°ch H√†ng</title>
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/customer.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html" class="logo-link"><h1>üçï Pizza Shop</h1></a>
                </div>
                <nav class="nav-menu">
                    <ul>
                        <li><a href="index.html">Trang Ch·ªß</a></li>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="cart.html">Gi·ªè H√†ng <span class="cart-count" id="cartCount">0</span></a></li>
                        <li><a href="contact.html">Li√™n H·ªá</a></li>
                        <li class="user-account">
                            <a href="javascript:;" id="user-account-link">
                                <span class="user-icon">üë§</span>
                                <span id="user-account-text">ƒêƒÉng Nh·∫≠p</span>
                            </a>
                            <ul class="user-dropdown" id="userDropdown" style="display: none;">
                                <li id="admin-menu-item" style="display: none;">
                                    <a href="admin.html">‚öôÔ∏è Qu·∫£n l√Ω c·ª≠a h√†ng</a>
                                </li>
                                <li id="customer-menu-item">
                                    <a href="customer.html">üìã ƒê∆°n h√†ng c·ªßa t√¥i</a>
                                </li>
                                <li><a href="javascript:;" id="btn-logout">üö™ ƒêƒÉng xu·∫•t</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <div class="search-box" id="searchBox">
                        <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm pizza..." onkeyup="handleSearch(event)">
                        <button onclick="performSearch()">T√¨m</button>
                    </div>
                    <button class="search-btn" onclick="toggleSearch()">üîç</button>
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Customer Dashboard Section -->
    <section class="customer-section">
        <div class="container">
            <div class="customer-dashboard" id="customerDashboard">
                <div class="dashboard-header">
                    <div>
                        <h1>Xin ch√†o, <span id="customerName">Kh√°ch h√†ng</span>! üëã</h1>
                        <p>Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Pizza Shop</p>
                    </div>
                    <button class="btn btn-secondary" onclick="handleCustomerLogout()">ƒêƒÉng Xu·∫•t</button>
                </div>

                <!-- Customer Info -->
                <div class="customer-info-section">
                    <div class="info-card">
                        <h2>Th√¥ng Tin C√° Nh√¢n</h2>
                        <div class="info-content">
                            <div class="info-row">
                                <span class="info-label">T√™n ƒëƒÉng nh·∫≠p:</span>
                                <span class="info-value" id="displayUsername">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">T√™n ƒë·∫ßy ƒë·ªß:</span>
                                <span class="info-value" id="displayFullname">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value" id="displayEmail">Ch∆∞a c·∫≠p nh·∫≠t</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">S·ªë ƒëi·ªán tho·∫°i:</span>
                                <span class="info-value" id="displayPhone">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">ƒê·ªãa ch·ªâ:</span>
                                <span class="info-value" id="displayAddress">Ch∆∞a c·∫≠p nh·∫≠t</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 1rem;" onclick="openUpdateInfoModal()">C·∫≠p nh·∫≠t th√¥ng tin</button>
                    </div>

                    <div class="info-card">
                        <h2>Th·ªëng K√™</h2>
                        <div class="customer-stats">
                            <div class="stat-item">
                                <div class="stat-icon">üì¶</div>
                                <div class="stat-info">
                                    <h3 id="statOrderCount">0</h3>
                                    <p>ƒê∆°n h√†ng</p>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">üí∞</div>
                                <div class="stat-info">
                                    <h3 id="statTotalSpent">0ƒë</h3>
                                    <p>T·ªïng chi ti√™u</p>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">‚≠ê</div>
                                <div class="stat-info">
                                    <h3 id="statPoints">0</h3>
                                    <p>ƒêi·ªÉm t√≠ch l≈©y</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order History -->
                <div class="dashboard-section">
                    <h2>L·ªãch S·ª≠ ƒê∆°n H√†ng</h2>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>M√£ ƒêH</th>
                                <th>Ng√†y ƒë·∫∑t</th>
                                <th>S·∫£n ph·∫©m</th>
                                <th>T·ªïng ti·ªÅn</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody id="customerOrdersBody">
                            <!-- Orders will be loaded dynamically -->
                        </tbody>
                    </table>
                    <p id="noOrdersMessage" style="display: none; text-align: center; color: #666; padding: 20px;">B·∫°n ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</p>
                </div>

                <!-- Favorite Products -->
                <div class="dashboard-section">
                    <h2>S·∫£n Ph·∫©m G·ª£i √ù</h2>
                    <div class="favorite-products" id="favoriteProductsContainer">
                        <!-- Products will be loaded dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Pizza Shop</h3>
                    <p>Pizza ngon nh·∫•t th√†nh ph·ªë v·ªõi h∆°n 10 nƒÉm kinh nghi·ªám</p>
                </div>
                <div class="footer-section">
                    <h3>Li√™n H·ªá</h3>
                    <p>üìç 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</p>
                    <p>üìû 0123 456 789</p>
                    <p>‚úâÔ∏è info@pizzashop.vn</p>
                </div>
                <div class="footer-section">
                    <h3>M·∫°ng X√£ H·ªôi</h3>
                    <div class="social-links">
                        <a href="#" class="social-link">Facebook</a>
                        <a href="#" class="social-link">Instagram</a>
                        <a href="#" class="social-link">Twitter</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Pizza Shop. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modal Login/Signup -->
    <div class="modal-overlay" id="authModal" style="display: none;">
        <div class="modal-auth">
            <button class="modal-close-btn" onclick="closeAuthModal()">‚úñ</button>
            
            <!-- Login Form -->
            <div class="auth-form" id="loginForm">
                <h3 class="auth-title">ƒêƒÉng Nh·∫≠p T√†i Kho·∫£n</h3>
                <p class="auth-description">ƒêƒÉng nh·∫≠p ƒë·ªÉ mua h√†ng v√† nh·∫≠n nh·ªØng ∆∞u ƒë√£i ƒë·∫∑c bi·ªát</p>
                <form onsubmit="return handleLogin(event)">
                    <div class="form-group">
                        <label>S·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" id="login-phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
                        <span class="form-error" id="login-phone-error"></span>
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <input type="password" id="login-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                        <span class="form-error" id="login-password-error"></span>
                    </div>
                    <button type="submit" class="btn-auth">ƒêƒÉng Nh·∫≠p</button>
                </form>
                <p class="auth-switch">
                    B·∫°n ch∆∞a c√≥ t√†i kho·∫£n? <a href="javascript:;" onclick="showSignupForm()">ƒêƒÉng k√Ω ngay</a>
                </p>
            </div>

            <!-- Signup Form -->
            <div class="auth-form" id="signupForm" style="display: none;">
                <h3 class="auth-title">ƒêƒÉng K√Ω T√†i Kho·∫£n</h3>
                <p class="auth-description">ƒêƒÉng k√Ω th√†nh vi√™n ƒë·ªÉ mua h√†ng v√† nh·∫≠n ∆∞u ƒë√£i ƒë·∫∑c bi·ªát</p>
                <form onsubmit="return handleSignup(event)">
                    <div class="form-group">
                        <label>T√™n ƒë·∫ßy ƒë·ªß</label>
                        <input type="text" id="signup-fullname" placeholder="VD: Nguy·ªÖn VƒÉn A" required>
                        <span class="form-error" id="signup-fullname-error"></span>
                    </div>
                    <div class="form-group">
                        <label>S·ªë ƒëi·ªán tho·∫°i</label>
                        <input type="text" id="signup-phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
                        <span class="form-error" id="signup-phone-error"></span>
                    </div>
                    <div class="form-group">
                        <label>M·∫≠t kh·∫©u</label>
                        <input type="password" id="signup-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                        <span class="form-error" id="signup-password-error"></span>
                    </div>
                    <div class="form-group">
                        <label>Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
                        <input type="password" id="signup-password-confirm" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u" required>
                        <span class="form-error" id="signup-password-confirm-error"></span>
                    </div>
                    <div class="form-group-checkbox">
                        <input type="checkbox" id="signup-agree" required>
                        <label for="signup-agree">T√¥i ƒë·ªìng √Ω v·ªõi ch√≠nh s√°ch v√† ƒëi·ªÅu kho·∫£n</label>
                    </div>
                    <button type="submit" class="btn-auth">ƒêƒÉng K√Ω</button>
                </form>
                <p class="auth-switch">
                    B·∫°n ƒë√£ c√≥ t√†i kho·∫£n? <a href="javascript:;" onclick="showLoginForm()">ƒêƒÉng nh·∫≠p ngay</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal-overlay" id="orderDetailModal" style="display: none;">
        <div class="modal-order-detail">
            <div class="modal-header">
                <h2>üì¶ Chi Ti·∫øt ƒê∆°n H√†ng</h2>
                <button class="modal-close-btn" onclick="closeOrderDetailModal()">‚úñ</button>
            </div>
            <div class="modal-body" id="orderDetailContent">
                <!-- Content will be loaded by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Update Info Modal -->
    <div class="modal-overlay" id="updateInfoModal" style="display: none;">
        <div class="modal-order-detail">
            <div class="modal-header">
                <h2>‚úèÔ∏è C·∫≠p Nh·∫≠t Th√¥ng Tin</h2>
                <button class="modal-close-btn" onclick="closeUpdateInfoModal()">‚úñ</button>
            </div>
            <div class="modal-body">
                <form onsubmit="return handleUpdateInfo(event)">
                    <div class="form-group">
                        <label>T√™n ƒë·∫ßy ƒë·ªß <span style="color: red;">*</span></label>
                        <input type="text" id="update-fullname" required placeholder="Nh·∫≠p t√™n ƒë·∫ßy ƒë·ªß">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="update-email" placeholder="Nh·∫≠p email">
                    </div>
                    <div class="form-group">
                        <label>ƒê·ªãa ch·ªâ <span style="color: red;">*</span></label>
                        <textarea id="update-address" required rows="3" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß"></textarea>
                    </div>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">üíæ L∆∞u thay ƒë·ªïi</button>
                        <button type="button" class="btn btn-secondary" style="flex: 1;" onclick="closeUpdateInfoModal()">‚ùå H·ªßy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>